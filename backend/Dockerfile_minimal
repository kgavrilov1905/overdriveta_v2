FROM python:3.11-slim

WORKDIR /app

# Install only what we need
RUN pip install fastapi==0.115.5 uvicorn==0.32.1

# Copy minimal app
COPY main_minimal.py main.py

# Expose port
EXPOSE $PORT

# Run with explicit port from environment
CMD uvicorn main:app --host 0.0.0.0 --port $PORT 